<div class="flex justify-center">
  <div class="w-full xl:w-[1000px] flex flex-col gap-4">
    <mat-card>
      <mat-card-content>
        <h2>CIP 27 - CNFT Community Royalties Standard</h2>

        <form #instructionsForm="ngForm">
          <p>
            Mint CIP-27 Royalties metadata into your policy. For further
            explanations and requiremnts see
            <a target="_blank" href="https://cips.cardano.org/cips/cip27/"
              >https://cips.cardano.org/cips/cip27/</a
            >
          </p>

          <div class="flex flex-col">
            <!-- POLICY -->
            <app-policy-selector
              [createPolicies]="true"
              (changedPolicyId)="changePolicyId($event)"
            >
              <mat-error *ngIf="tokens.length > 0"
                >This policy has already minted
                {{ tokens.length }} tokens</mat-error
              >
            </app-policy-selector>

            <!-- Percent -->
            <mat-form-field appearance="outline">
              <mat-label>Royalties in %</mat-label>
              <input
                matInput
                [(ngModel)]="percent"
                name="percent"
                required
                type="number"
                min="0"
                max="100"
                step="10"
              />
            </mat-form-field>

            <!-- Address -->
            <mat-form-field appearance="outline">
              <mat-label>Royalties address</mat-label>
              <input
                matInput
                [(ngModel)]="addr"
                name="addr"
                required
                minlength="59"
              />
            </mat-form-field>
          </div>
        </form>
      </mat-card-content>
    </mat-card>

    <div class="flex gap-2">
      <button
        mat-raised-button
        color="primary"
        [disabled]="instructionsForm.invalid || minting"
        (click)="generateCip27()"
      >
        <mat-icon *ngIf="!minting">token</mat-icon>
        <mat-icon *ngIf="minting"
          ><mat-spinner diameter="18" color="accent"></mat-spinner
        ></mat-icon>
        <span>Mint</span>
      </button>
    </div>

    <p>
      Need help? Join our
      <a target="_blank" href="https://t.me/joinchat/XrlIF21NDzAyODUy"
        >telegram channel</a
      >!
    </p>
  </div>
</div>
