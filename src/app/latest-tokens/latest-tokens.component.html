<h1 class="mat-h1">Latest Cardano NFTs</h1>

<p>
  <span fxLayout="row" fxLayoutAlign="center">
    <mat-form-field appearance="outline" fxFlex="500px" fxFlex.lt-md="100%">
      <input matInput placeholder="Search token name or policy id" [(ngModel)]="searchInput" (keyup)="search($event)">
      <button mat-button *ngIf="searchInput" matSuffix mat-icon-button aria-label="Clear" (click)="searchInput=''; search($event);">
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
  </span>
</p>

<div fxLayout="row" fxLayoutAlign="center">
  <div fxLayout="row wrap" fxLayoutGap="10px grid" fxLayoutAlign="center top" infiniteScroll (scrolled)="onScroll()" [infiniteScrollDistance]="3" infiniteScrollContainer=".my-sidenav-content" [fromRoot]="true" fxFlex="0 1 1200px" fxFlex.lt-md="100%">
    <ng-container *ngFor="let token of latestTokens; let i = index">
      <div class="policyId" fxFlex="100%" *ngIf="i == 0 || (token.policyId != latestTokens[i-1].policyId)">
        <a [routerLink]="['/latest']" [queryParams]="{q:token.policyId}"> {{token.timestamp | date : 'medium'}} </a>
      </div>
      <div fxFlex="100%" fxFlex.gt-xs="300px">
        <app-latest-tokens-mini [token]="token" (click)="details(token)"></app-latest-tokens-mini>
      </div>
    </ng-container>
  </div>
</div>
